#!/bin/bash

#  ====================================================
#  |       Configurações de execução do LiveCD        |
#  ====================================================

# Versão do LiveCD do Moodle Provas
provas_version='3.1'

# Data da versão gerada (data no formato AAAAMMDD), é atualizada automaticamente na geração do LiveCD.
provas_build='%BUILD_DATE%'

# Diretório padrão dos scripts do Moodle provas
provas_dir='/opt/provas'

# Diretório onde os logs gerados pelos scripts serão gravados
provas_log_dir='/var/log/moodle-provas'

# Local onde está gravado ESTE arquivo
provas_config="$provas_dir/moodle_provas.conf"

# Local onde será gravado o arquivo de configuração online, com os dados obtidos do servidor.
provas_online_config="$provas_dir/moodle_provas_online.conf"

# Caminho do arquivo do papel de parede da área de trabalho
provas_wallpaper_path="$provas_dir/images/wallpaper.png"

# Endereço do host onde está hospedado o Moodle Provas.
online_config_host='provas2.moodle.ufsc.br'

# Endereço IP do servidor do moodle provas (para ser liberado no firewall)
#online_config_host_ip=$(dig $online_config_host a +short | tail -n1)
online_config_host_ip='150.162.9.125'

# URL do arquivo de configuração online
#online_config_file_url="https://$online_config_host/online-config/config.json"
online_config_file_url="http://150.162.9.125/~juliao/config.json"

# Nome base que os usuários criados no sistema terão, por exemplo se o 'username_base'
# for 'kiosk', o primeiro usuário criado será 'kiosk1' e o segundo será 'kiosk2'.
username_base='kiosk'

# Endereço IP da conexão local que contém a rota padrão, por exemplo '150.162.9.125'
local_ip=$(ip -f inet route get $online_config_host_ip | grep -o 'src.*' | cut -d ' ' -f 2)

# Endereço da rede local no formato CIDR, por exemplo: '150.162.9.0/24'
local_network=$(ip route | grep $local_ip | cut -d " " -f 1)

# Configurações utilizadas nos testes de conexão, os hosts abaixo são utilizados para testar
# o DNS e respostas ao 'ping', o timeout_host_test é o tempo limite de resposta em segundos.
host_test_1='pop-sc.rnp.br'
host_test_2='pop-rs.rnp.br'
timeout_host_test='2'

# Diretório onde os arquivos binários do navegador Mozilla Firefox estão instalados
firefox_bin='/usr/lib/firefox'

# Nome do arquivo de autoconfig instalado pelo pacote 'firefox-default-settings'
firefox_autoconfig='firefox.cfg'

# Caminho completo para o arquivo que contêm as diretivas de configuração do Firefox.
firefox_syspref='/etc/firefox/syspref.js'

# Arquivo onde o log gerado pelas funções dos scripts do moodle provas serão salvos, utilizando a função log().
log_file_provas="$provas_log_dir/moodle-provas.log"

# Arquivo onde o log gerado pelas funções do script de pre-setup do multiseat será salvo, utilizando a função log().
log_file_multiseat="$provas_log_dir/multiseat-pre-setup.log"

# Arquivos que contêm as regras padrões do firewall, com a sintaxe do IPTABLES.
firewall_ipv4_rules='/etc/iptables/rules.v4'
firewall_ipv6_rules='/etc/iptables/rules.v6'

